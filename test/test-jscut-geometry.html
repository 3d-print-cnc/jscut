<!DOCTYPE html>
<html>
<head>
    <title>test</title>
    <script src="../bower_components/platform/platform.js"></script>
    <link rel="import" href="../components/jscut-geometry.html">
</head>
<body>
    <svg width="800" height="400" preserveAspectRatio="xMinYMin meet"></svg>

    <script>
        window.addEventListener('HTMLImportsLoaded', function (e) {
            var svg = document.querySelector('svg');
            var svgNS = "http://www.w3.org/2000/svg";

            function addToSvg(geometry, fill) {
                var path = document.createElementNS(svgNS, "path");
                path.setAttribute('d', jscut.geometry.toSvgPathData(geometry, 90));
                path.setAttribute('fill', fill);
                svg.appendChild(path);
                var bbox = svg.getBBox();
                svg.setAttribute("viewBox", (bbox.x - 2) + " " + (bbox.y - 2) + " " + (bbox.width + 4) + " " + (bbox.height + 4));
            }

            var r1 = jscut.geometry.createRect(-50, -50, 50, 50, 'mm');
            addToSvg(r1, 'red');
            addToSvg(jscut.geometry.rotate(r1, 45, 'deg'), 'cyan');
            addToSvg(jscut.geometry.rotate(r1, -Math.PI / 8, 'rad'), 'magenta');

            var r2 = jscut.geometry.scale(r1, .5, .2);
            addToSvg(r2, 'blue');
            addToSvg(jscut.geometry.translate(r2, 50, 0, 'mm'), 'green');
            addToSvg(jscut.geometry.translate(r2, 0, 20, 'mm'), 'green');

            var h = jscut.geometry.createRect(-1, -.5, 1, .5, 'inch');
            var v = jscut.geometry.createRect(-.5, -1, .5, 1, 'inch');
            addToSvg(jscut.geometry.translate(jscut.geometry.union(h, v), 4, 0, 'inch'), 'purple');
            addToSvg(jscut.geometry.translate(jscut.geometry.intersect(h, v), 4, 4, 'inch'), 'purple');
            addToSvg(jscut.geometry.translate(jscut.geometry.difference(h, v), 8, 0, 'inch'), 'purple');
            addToSvg(jscut.geometry.translate(jscut.geometry.xor(h, v), 8, 4, 'inch'), 'purple');

            var u = jscut.geometry.union(h, v);
            var ugrow = jscut.geometry.grow(u, 1, 'mm');
            var ushrink = jscut.geometry.grow(u, -1, 'mm');
            addToSvg(jscut.geometry.translate(jscut.geometry.difference(u, ushrink), 12, 0, 'inch'), 'purple');
            addToSvg(jscut.geometry.translate(jscut.geometry.difference(ugrow, u), 12, 4, 'inch'), 'purple');
        });
    </script>
</body>
</html>
