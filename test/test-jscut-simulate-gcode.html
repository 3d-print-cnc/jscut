<!DOCTYPE html>
<html>
<head>
    <title>test</title>
    <script src="../bower_components/platform/platform.js"></script>
    <link rel="import" href="../bower_components/core-localstorage/core-localstorage.html">
    <link rel="import" href="../elements/jscut-simulate-gcode.html">
</head>
<body>
    <template id="top" is="auto-binding">
        <core-localstorage name="test-jscut-simulate-gcode-cutterDiameter" value="{{cutterDiameter}}"></core-localstorage>
        <core-localstorage name="test-jscut-simulate-gcode-cutterHeight" value="{{cutterHeight}}"></core-localstorage>
        <core-localstorage name="test-jscut-simulate-gcode-gcode" value="{{gcode}}"></core-localstorage>

        <jscut-parse-gcode gcode="{{gcode}}" parsedgcode="{{parsedGcode}}"></jscut-parse-gcode>
        <jscut-simulate-gcode parsedGcode="{{parsedGcode}}" cutterdiameter="{{cutterDiameter}}" cutterheight="{{cutterHeight}}" elementsurl="../elements"></jscut-simulate-gcode>
        <br />
        <input type="number" value="{{cutterDiameter}}" />
        <br />
        <input type="number" value="{{cutterHeight}}" />
        <br />
        <textarea value="{{gcode}}" rows="20" cols="60"></textarea>
    </template>

    <script>
        document.addEventListener('polymer-ready', function () {
            var top = document.querySelector('#top');
            top.cutterDiameter = .125;
            top.cutterHeight = 1;
            top.gcode = '\
G1 Z0.1 F100\n\
G1 X0 Y0 F100\n\
G1 Z0.0000\n\
G1 Z-0.1250 F20\n\
G1 X1 Y1 F40\n\
';
        });
    </script>
</body>
</html>
